<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Required meta tags always come first -->
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1">   
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-social/5.1.1/bootstrap-social.css">
        <!-- build:css css/main.css -->
        <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="node_modules/font-awesome/css/font-awesome.min.css">
        <link rel="stylesheet" href="node_modules/bootstrap-social/bootstrap-social.css">
        <link rel="stylesheet" href="css/styles.css">
        <!-- endbuild -->
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lobster|Open+Sans">
        <style>
            body { margin: 0; padding: 0; }
            #map { position: relative; top: 0; bottom: 0; width: 100%; }
        </style>
        <title>Next Music Fest</title>  
    </head>
    <body>
    
            <div class="fest-box">
              <div id="festival-info">
                  
              </div> 
            </div>
        </div>
    </body>
    <script>
           var $data = $('#festival-info');
           $(function(){
               $.ajax({
                   url: 'js/events.json',
                   dataType: 'json', 
                   type: 'GET',
                   cache: false,
                   success: function(list) {
                       $(list.events.festivals).each(function (index, value) {
                           $.ajax({
                           type: 'GET',
                           url: 'https://api.songkick.com/api/3.0/events/' + value.id +'.json?apikey=BcSVaxyGOG1IVR63',
                           dataType: 'JSON',
                           success: function(dataEvent) {
                           //console.log('success', data);
                           //console.log(data.resultsPage.results.event.displayName);
                                   var htmlString = [];
                                   $.each(dataEvent, function(i, item) {
                                       htmlString += '<div class="card mb-4 p-3" style="width: 100%;">'
                                       htmlString += '<img class="card-img-top" src="" alt="">'
                                       htmlString += '<div class="card-body">'
                                       htmlString += '<h5 class="card-title display-4">' + dataEvent.resultsPage.results.event.series.displayName  + '</h5>'
                                       htmlString += '<div id="map" style="width: 100px; height: 100px;"></div>'
                                       htmlString += '<p class="display-5 text-primary"> Upcoming Event Dates: ' + dataEvent.resultsPage.results.event.start.date + ' to ' + dataEvent.resultsPage.results.event.end.date + '</p>'
                                       htmlString += '<img class="mt-5 img-fluid img-thumbnail" src="https://images.sk-static.com/images/media/profile_images/events/' + value.imgId +'/huge_avatar"></img>'
                                       
                                       htmlString += '<ul class="list-group list-group-flush">'
                                       htmlString += '<li class="list-group-item bg-transparent">' + 'Location:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;' + dataEvent.resultsPage.results.event.location.city + '</li>'
                                       htmlString += '<li class="list-group-item bg-transparent">' + 'Popularity:&nbsp;&nbsp;&nbsp;' + dataEvent.resultsPage.results.event.popularity + '</li>'
                                       htmlString += '<li class="list-group-item bg-transparent">' + 'More Info:&nbsp;&nbsp;' + '<a href="' + dataEvent.resultsPage.results.event.uri + '" class="card-link">Songkick Page</a>' + '</li>'
                                       htmlString += '</ul>'
                                       htmlString += '<div class="card-body">'
                                       htmlString += '<h4>Headliners</h4>'
                                       htmlString += '</div>'
                                       htmlString += '</div>'
                               
                                   $data.append(htmlString);
                                       //'<li>' + data.resultsPage.results.event.displayName +'</li>'
                           });
                   }
               });          
                       });
                   }
               });
           });
       </script>
        <script src="https://player.vimeo.com/api/player.js"></script>
        <script>
          var options = {
            url: "https://vimeo.com/280815263",
            width: 800
          };
        
          var videoPlayer = new Vimeo.Player('myVideo', options);
        
          videoPlayer.on('play', function() {
            console.log('Played the video');
          });
        </script>
        <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
        <!-- build:js js/main.js -->
        <script src="node_modules/jquery/dist/jquery.slim.min.js"></script>
        <script src="node_modules/popper.js/dist/umd/popper.min.js"></script>
        <script src="node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
        <script src="js/scripts.js"></script>
    <footer>
    </footer>
</html>